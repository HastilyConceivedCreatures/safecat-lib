# Safecat-lib
![safecat logo, generated by stable diffusion and gimp](https://neiman.co.il/images/safecat.png)

An accompanying library to the [Safecat CLI](https://github.com/eyalron33/safecat) aiming to expose convenient cryptographic procedures relevant to zkSNARKs. It is a work in progress.

## Procedures
The following procedures are implemented and make use of `ark_ff` for field element types:

- `fn hash::poseidon2::poseidon2_bn254_x5_4(input: &[BN254Scalar]) -> Vec<BN254Scalar>` takes a slice of BN254 scalar field elements and returns the result of applying a Poseidon2 permutation according to the [reference implementation](https://github.com/HorizenLabs/poseidon2/blob/main/poseidon2_rust_params.sage). It is compatible with the [permutation in the Noir standard library](https://github.com/noir-lang/noir/blob/420e56d6ea3478301c2ff2f1adb3bcc9df6d1892/noir_stdlib/src/hash.nr#L125).
- `fn hash::poseidon2::poseidon2_bn254_sponge(input: &[BN254Scalar], variable_size: bool) -> BN254Scalar` is the sponge function corresponding to the preceding permutation including an appropriate initial state and padding so as to maintain compatibility with the [Noir standard library implementation](https://github.com/noir-lang/noir/blob/420e56d6ea3478301c2ff2f1adb3bcc9df6d1892/noir_stdlib/src/hash/poseidon2.nr#L15). The parameter `variable_size` indicates whether the input slice is a slice of a larger array or vector, a case of relevance to Noir programs where slices and variable-sized arrays are invalid program inputs.
